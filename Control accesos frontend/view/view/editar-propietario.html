<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Propietario</title>
    <link rel="stylesheet" href="/css/estilos.css">

    <style>
        .btn-back {
            background: #ff4d4d;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 15px;
            cursor: pointer;
            transition: 0.3s;
        }
        .btn-back:hover {
            background: #ff6b6b;
        }
        .back-container {
            width: 95%;
            display: flex;
            justify-content: flex-end; /* DERECHA */
            margin: 15px auto 5px auto;
        }
    </style>
</head>
<body>
    
    <nav class="navbar">
        <div class="navbar-brand">CONTROL DE ACCESOS</div>
    </nav>

    <!-- ðŸ”´ BOTÃ“N REGRESAR ARRIBA A LA DERECHA -->
    <div class="back-container">
        <button class="btn-back" onclick="location.href='propietarios.html'">â®œ Regresar</button>
    </div>
    
    <main style="padding: 16px;">

        <h1 style="margin-bottom: 15px; color:#007bff; font-size: 26px;">
            Editar Propietario
        </h1>

        <!-- Contenedor centrado -->
        <div style="display: flex; justify-content: center;">
            
            <!-- Card -->
            <div style="
                background: white;
                padding: 16px 20px;
                max-width: 520px;
                width: 100%;
                border-radius: 10px;
                box-shadow: 0px 2px 8px rgba(0,0,0,0.1);
                box-sizing: border-box;
            ">

                <form id="formularioEdicionPropietario">

                    <div style="margin-bottom: 14px;">
                        <label for="idPropietario">ID Propietario:</label><br>
                        <input 
                            type="number" 
                            id="idPropietario" 
                            readonly
                            style="margin-top: 4px; width: 100%; height: 34px; 
                                   box-sizing: border-box; background: #e9ecef;">
                    </div>

                    <div style="margin-bottom: 14px;">
                        <label for="nombre">Nombre:</label><br>
                        <input 
                            type="text" 
                            id="nombre" 
                            required
                            style="margin-top: 4px; width: 100%; height: 34px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 14px;">
                        <label for="apellido">Apellido:</label><br>
                        <input 
                            type="text" 
                            id="apellido" 
                            required
                            style="margin-top: 4px; width: 100%; height: 34px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 14px;">
                        <label for="correo">Correo:</label><br>
                        <input 
                            type="email" 
                            id="correo" 
                            required
                            style="margin-top: 4px; width: 100%; height: 34px; box-sizing: border-box;">
                    </div>

                    <div style="margin-bottom: 18px;">
                        <label for="telefono">TelÃ©fono:</label><br>
                        <input 
                            type="text" 
                            id="telefono" 
                            required
                            style="margin-top: 4px; width: 100%; height: 34px; box-sizing: border-box;">
                    </div>

                    <button 
                        type="button" 
                        id="btnEditarPropietario"
                        class="btn btn-warning"
                        style="margin-right: 10px;">
                        Actualizar Propietario
                    </button>

                    <a 
                        href="propietarios.html"
                        class="btn"
                        style="color: purple; font-weight: bold;">
                        Cancelar
                    </a>

                </form>

            </div>
        </div>

    </main>

    <!-- Script PUT -->
    <script src="/js/putPropietario.js"></script>

    <!-- Script obtener ID -->
    <script>
        const params = new URLSearchParams(window.location.search);
        const id = params.get("id");

        if (id) {
            fetch(`https://localhost:44331/api/Propietario/${id}`)
                .then(res => res.json())
                .then(p => {
                    document.getElementById("idPropietario").value = p.IdPropietario;
                    document.getElementById("nombre").value = p.Nombre;
                    document.getElementById("apellido").value = p.Apellido;
                    document.getElementById("correo").value = p.Correo;
                    document.getElementById("telefono").value = p.Telefono;
                })
                .catch(err => console.error("Error cargando propietario:", err));
        }
    </script>

</body>
</html>
